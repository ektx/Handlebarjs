<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>块表达式 - handlebarsjs</title>
		<script src="lib/jquery-1.11.1.min.js"></script>
		<script src="lib/handlebars-v1.3.0.js"></script>
	</head>
	<body>
		<h1>for操作</h1>
		<h2>块表达式的使用示例</h2>

		<!-- 模板存放位置 清单列表模板 -->
		<div id="list"></div>

		<!-- 模板样式 -->
		<script id="people-template" type="text/x-handlebars-template">
		{{#list people}}
			{{first_name}} {{last_}}  {{phone}} {{email}} {{member_since}}
		{{/list}}
		</script>


		<script type="text/javascript">
		$(document).ready(function() {
			var template = Handlebars.compile($("#people-template").html());

			Handlebars.registerHelper('list', function(items, options){
				var out = "<div>";
				for (var i = 0, l = items.length; i < l; i++) {
					out = out + "<div>" + options.fn(items[i]) + "</div>";
				}
				return out + "</div>"
			});

			var data = {
				people: [
				{ first_name: "Alan", last_name: "Johnson", phone: "1234567890", email: "alan@test.com", member_since: "Mar 25, 2011" },
				{ first_name: "Allison", last_name: "House", phone: "0987654321", email: "allison@test.com", member_since: "Jan 13, 2011" },
				{ first_name: "Allison", last_name: "House", phone: "0987654321", email: "allison@test.com", member_since: "Jan 13, 2011" },
				{ first_name: "Allison", last_name: "House", phone: "0987654321", email: "allison@test.com", member_since: "Jan 13, 2011" },
				{ first_name: "Allison", last_name: "House", phone: "0987654321", email: "allison@test.com", member_since: "Jan 13, 2011" }
				]
			};

			$('#list').html(template(data));
		});
		</script>

	</body>
</html>